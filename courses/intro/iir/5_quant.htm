<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/xhtml-strict.dtd">
<html> 
	<head>
  	<title>Bores Signal Processing - Introduction to DSP - IIR filters - quantisation in IIR filters</title>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<meta name="keywords" content="DSP, online teaching, signals, digital signal processing, IIR, FIR, filters, frequency response, window, functions" />
		<meta name="author" content="Bores Signal Processing" />
		<meta name="description" content="Training in DSP, software architectures and Philips TriMedia architectures" />
		<link href="../../../css/global.css" rel="stylesheet" />
		<script type ="text/javascript">
			<!--Hide script from old browsers
			var page = "online_dsp_iir_sec"; // for courses_menu
			var section = "index_online_sec_sec";  //for horizontal menu
			var curr1PageIndex = 1;  //level1 of the menu
			var curr2PageIndex = 5;	//level2 of the menu
			var curr3PageIndex = 12;	//level3 of the menu		
			//end hiding of script -->
		</script>
		<!-- validated -->
	</head>
  <body>
	   <div id="outerWrapper">
		  <div id="innerWrapper">
				<noscript><p class="declaration">This web site uses Javascript. We use Javascript to improve the user's experience and to enable better maintenance of our site.<br /><br />To be able to view this site properly it is necessary to either <span class="emphasis">enable Javascript</span> or click on <span class="emphasis">allow blocked content</span><br /><br />We promise that we <span class="emphasis">do not:</span></p><ul class="middle"><li>give you content you do not want</li><li>collect any information from your computer</li><li>damage data on your computer</li><li>install software on your computer with or without your consent</li><li>allow someone else to  your computer remotely</li></ul></noscript>
			  <img class="right" src="../../../graphics/composite_training_banner.jpg" alt="We offer training classes and eBooks on DSP, and in Media Processing (TriMedia)" title="We offer training classes and eBooks on DSP, and in Media Processing (TriMedia)" height="99" width="300" />
			  <img alt="Company logo" title="Bores Signal Processing logo" src="../../../graphics/logo.gif" height="100" width="150" />
			  <h1>Introduction to DSP - IIR filters: quantisation in IIR filters</h1>
			  <div class="hMenu">
				  <script type="text/javascript" src="../../../scripts/horizontal_menu.js"></script>
			  </div>
			  <table class="main">
				  <tr>
					  <td class="menuCell">
						  <script type="text/javascript" src="../../../scripts/courses_menu.js"></script>
					  </td>
					  <td class="mainCell">
							<p>Digital filters are examples of <a href="../basics/index.htm">sampled data systems</a>.</p> 
							<p>Sampled data systems suffer from problems of limited <a href="../basics/1_quant.htm">precision</a> which lead to <a href="../basics/1_quant.htm">quantisation</a> errors. Apart from errors when <a href="../basics/1_conver.htm">measuring</a> signals, these arise within the hardware used for processing:</p>
							<img src="gifs/5_quant3.gif" width="256" height="135" title="Filter equation block diagram" alt="Filter equation block diagram" /> 
							<p>Primary sources of quantisation error are:</p> 
							<ul> 
		  					<li>errors in arithmetic within the hardware (for example 16 bit <a href="../chips/6_data.htm">fixed point</a> roundoff)</li> 
		  					<li>trncation when results are stored (most DSP processors have extended registers internally, so truncation usually occurs when results are stored to memory)</li> 
		  					<li>quantisation of <a href="5_eq.htm">filter coefficients</a> which have to be stored in memory</li> 
							</ul> 
							<p>The effects of quantisation, saturation and overflow are all non linear, signal dependent errors. This is bad news because non linear effects cannot be calculated using normal mathematics: and because signal dependent (coherent) errors cannot be treated statistically using the usual assumptions about randomness of noise - they will depend on what signals are being		  processed.</p>
							<img src="gifs/5_quant1.gif" width="256" height="200" title="Effects on signals" alt="Effects on signals" /> 
							<p>One example of a strange effect of non linear systems is <span class="red">limit cycles</span>:</p>
							<img src="gifs/5_quant2.gif" width="256" height="116" title="Limit cycles" alt="Limit cycles" /> 
							<p>A non linear system can oscillate at a low bit level, even when there is no input. This is not the same as the <a href="../filters/4_spec.htm">impulse response</a> being infinite - it is a result of a non linear (or chaotic) system.</p> 
							<p class="note">Limit cycles can sometimes be heard when listening to modern 'sigma delta' digital to analogue converters. These chips use long digital filters which are subject to non linear errors - and you can sometimes hear the effect of limit cycles as quiet hisses or pops even when the digital output to the DAC is held steady.</p> 
							<p>When treating quantisation effects we usually acknowledge that these are non linear, signal dependent errors:</p>
							<img src="../basics/gifs/1_quant.gif" width="256" height="106" title="Block diagram of ideal DSP system" alt="Block diagram of ideal DSP system" /> 
							<p>but we often model these as if they were injections of random noise:</p>
							<img src="../basics/gifs/1_quant2.gif" width="256" height="73" title="Block diagram of ideal DSP system with injected noise" alt="Block diagram of ideal DSP system with injected noise" /> 
							<p>Sadly, with IIR filters the non linear, signal dependent effects dominate and the model of quantisation as random noise is completely inadequate. The effects will also depend on the hardware used to implement the filter: for example most DSP processors have extended registers internally - whether these are used or not will affect the quantisation error crucially.</p>
							<p>It is not possible to model the effects of quantisation in an IIR filter using simple random noise models.</p> 
							<p>Some idea of quantisation effects in IIR filters can be gained using complex statistical models: but really the only way to evaluate the effects of quantisation in an IIR filter is to:</p> 
							<ul> 
		  					<li>implement the filter on the target hardware</li> 
		  					<li>test it with signals of the sort expected</li> 
							</ul> 
							<p>
								<img class="right" src="../gifs/buttons.jpg" usemap="#map1" width="171" height="18" alt="backward/forward" /> 
		  			    <map name="map1" id="map1">
			 			      <area shape="rect" coords="2,3,42,15" href="index.htm" alt="go back to start of module" /><!--go back to start of module -->
			 			      <area shape="rect" coords="43,2,84,16" href="5_transp.htm" alt="go back to previous page" /><!--go to previous page -->
			 			      <area shape="rect" coords="84,2,127,15" href="5_struct.htm" alt="go to next page" /><!--go to next page -->
			 			      <area shape="rect" coords="126,2,169,16" href="../chips/index.htm" alt="go to next module" /><!-- go to next module -->  
		  			    </map>
					    </p>
				    </td>
			    </tr>
		    </table>	
		  </div>
		  <hr></hr>
		  <div class="footer">
				<script type="text/javascript" src="../../../scripts/address_level4.js"></script>
  		</div>
		</div>		
	</body>
</html>